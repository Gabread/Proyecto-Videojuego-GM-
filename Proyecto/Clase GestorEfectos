package puppy.code;

import java.util.ArrayList;

public class GestorEfectos {
    
    private ArrayList<Efecto> efectosActivos;
    
    public GestorEfectos() {
        efectosActivos = new ArrayList<Efecto>();
    }
    
    public void agregarEfecto(Efecto efecto) {
        efectosActivos.add(efecto);
        efecto.activarEfecto();
    }
    
    public void actualizarTodos(float delta) {
        for (int i = 0; i < efectosActivos.size(); i++) {
            Efecto efecto = efectosActivos.get(i);
            efecto.actualizarEfecto(delta);
            
            if (!efecto.estaActivo()) {
                efectosActivos.remove(i);
                i--;
            }
        }
    }
    
    // MÃ©todo, busca por tipo de efecto
    public boolean tieneEscudoActivo() {
        for (int i = 0; i < efectosActivos.size(); i++) {
            Efecto efecto = efectosActivos.get(i);
            String descripcion = efecto.getDescripcionEfecto();
            if (descripcion.equals("Escudo protector") && efecto.estaActivo()) {
                return true;
            }
        }
        return false;
    }
    
    public boolean tieneVidaExtraActiva() {
        for (int i = 0; i < efectosActivos.size(); i++) {
            Efecto efecto = efectosActivos.get(i);
            String descripcion = efecto.getDescripcionEfecto();
            if (descripcion.equals("Vida Extra") && efecto.estaActivo()) {
                return true;
            }
        }
        return false;
    }
    
    public void limpiarEfectos() {
        for (int i = 0; i < efectosActivos.size(); i++) {
            efectosActivos.get(i).desactivarEfecto();
        }
        efectosActivos.clear();
    }
    
    public ArrayList<Efecto> getEfectosActivos() {
        return efectosActivos;
    }
}
