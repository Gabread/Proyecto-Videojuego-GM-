package puppy.code;

import com.badlogic.gdx.math.Rectangle;
import com.badlogic.gdx.graphics.Texture;

public abstract class Gota {
    private Rectangle bounds;
    private float velocidadY;
    private Texture texture;
    private boolean activo;

    public Gota(Texture texture, float x, float y, float velocidadY) {
        this(texture, x, y, velocidadY, 64, 64);
    }
    
    public Gota(Texture texture, float x, float y, float velocidadY, 
                float width, float height) {
        this.texture = texture;
        this.bounds = new Rectangle(x, y, width, height);
        this.velocidadY = velocidadY;
        this.activo = true;
    }
    
    // Método concreto todas las gotas caen igual
    public void update(float dt) {
        bounds.y -= velocidadY * dt;
        if (bounds.y + bounds.height < 0) {
            activo = false;
        }
    }
    
    // Getters y setters
    public Rectangle getBounds() {
        return bounds;
    }

    public boolean isActivo() {
        return activo;
    }

    public Texture getTexture() {
        return texture;
    }
    
    public float getVelocidadY() {
        return velocidadY;
    }
    
    public void setActivo(boolean activo) {
        this.activo = activo;
    }
    
    public void setVelocidadY(float velocidadY) {
        this.velocidadY = velocidadY;
    }
    
    // Método abstracto cada gota lo implementa diferente
    public abstract void onCollide(Tarro tarro);
}
